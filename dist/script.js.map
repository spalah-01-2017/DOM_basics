{"version":3,"sources":["../script.js"],"names":["Table","headers","rows","Array","i","length","j","neme","prototype","addRow","row","push","addRows","forEach","element","removeRow","splice","addColumn","title","data","arr","showSize","columns","sort","column","desc","sortColumn","a","b","filterBy","columnTitle","columnNum","indexOf","filter","undefined","getData","titles","reduce","el","item","marker","language","mark","name","table"],"mappings":"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","file":"script.js","sourcesContent":["/**\r\n * Created by Дмитрий on 02.03.2017.\r\n */\r\nfunction Table(headers, rows) {\r\n    this.headers = headers;\r\n    this.rows = new Array();\r\n    for (var i = 0; i < this.headers.length; i++){\r\n        this.rows[i] = new Array();\r\n        for (var j = 0; j < rows.length; j++){\r\n            var neme = this.headers[j];\r\n            this.rows[i][j] = rows[i][neme];\r\n        }\r\n    }\r\n}\r\n\r\nTable.prototype.addRow = function (row) {\r\n    var row = row || [];\r\n    this.rows.push(row);\r\n};\r\nTable.prototype.addRows = function (rows) {\r\n    var rows = rows || [];\r\n    rows.forEach(function (element) {\r\n        this.addRow(element);\r\n    }, this);\r\n};\r\nTable.prototype.removeRow = function (row) {\r\n    this.rows.splice(row, 1);\r\n};\r\nTable.prototype.addColumn = function (title, data) {\r\n    this.headers.push(title);\r\n    this.rows.forEach(function (row, i, arr) {\r\n        arr[i].push(data[i]);\r\n    });\r\n};\r\nTable.prototype.showSize = function () {\r\n    return {\r\n        rows: this.rows.length,\r\n        columns: this.rows[0].length\r\n    }\r\n};\r\nTable.prototype.sort = function (column, desc) {\r\n    var column = column || false;\r\n    var desc = (desc == 'desc' || false);\r\n    column = column - 1;\r\n    this.rows.sort(sortColumn);\r\n    function sortColumn(a, b) {\r\n        if(desc){\r\n            return a[column] < b[column];\r\n        }else {\r\n            return a[column] > b[column];\r\n        }\r\n    }\r\n};\r\nTable.prototype.filterBy = function (columnTitle) {\r\n    var columnNum = this.headers.indexOf(columnTitle);\r\n    return this.rows.filter(function(element){\r\n        return (element[columnNum] != undefined);\r\n    });\r\n    /* return this.rows.reduce(function(arr, el){\r\n        if(el[columnNum] != undefined){\r\n            arr.push(el);\r\n        }\r\n        return arr;\r\n    }, []);*/\r\n};\r\nTable.prototype.getData = function () {\r\n    var titles = this.headers;\r\n    return this.rows.reduce(function(arr, el){\r\n        var item = {};\r\n        var marker = false;\r\n        for (var i = 0; i < el.length; i++){\r\n            if(el[i] != undefined){\r\n                item[titles[i]] = el[i];\r\n                marker = true;\r\n            }\r\n        }\r\n        if(marker) arr.push(item);\r\n        return arr;\r\n    }, []);\r\n};\r\n\r\nvar headers = [\"name\", \"language\", \"mark\"];\r\nvar data = [{\r\n    language: 'JavaScript',\r\n    mark: 8\r\n},\r\n    {\r\n        name: 'Anna',\r\n        language: 'Ruby'\r\n    },\r\n    {\r\n        name: 'Olga',\r\n        mark: 5\r\n    }];\r\n\r\nvar table = new Table(headers, data);\r\n\r\n\r\n\r\n// console.log(table.headers);\r\n// table.addRow(['John', 'PHP', 5]);\r\n// table.addRows([['Mike', 'Go', 3], ['Mila', 'Java', 10]]);\r\n// table.removeRow(1);\r\n// console.table(table.rows);\r\n// table.addColumn('surname', ['Smith', 'Ivanov', 'Bregovich']);\r\n// console.log(table.headers);\r\n// console.table(table.rows);\r\n// console.log(table.showSize());\r\n// table.removeRow(0);\r\n// console.log(table.showSize());\r\n// console.table(table.rows);\r\n// table.sort(1, 'desc');\r\n// console.table(table.rows);\r\n// console.table(table.filterBy('mark'));\r\n// console.table(table.getData());\r\n"]}